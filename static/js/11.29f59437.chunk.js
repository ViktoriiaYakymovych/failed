"use strict";(self.webpackChunkweather_forecast=self.webpackChunkweather_forecast||[]).push([[11],{768:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(154);s.A.defaults.baseURL="https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services";const a="E4W5RGXKFH3UTAD62NKRRA3L3",o={fetchWeatherForCities:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"London%2CUK%7CParis%2CFrance%7CTokyo%2CJapan";try{const{data:n}=await s.A.get("/timelinemulti?key=".concat(a,"&locations=").concat(t),{signal:e.signal});return n}catch(n){"ERR_CANCELED"!==n.code&&console.log(n.message)}},fetchCityWeatherForDays:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Berlin";try{const{data:n}=await s.A.get("/timeline/".concat(t,"/next7days?unitGroup=metric&include=days&key=").concat(a,"&contentType=json"),{signal:e.signal});return n}catch(n){"ERR_CANCELED"!==n.code&&console.log(n.message)}},fetchCityWeatherForToday:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Berlin";try{const{data:n}=await s.A.get("/timeline/".concat(t,"/today?unitGroup=metric&include=days\n&key=").concat(a,"&contentType=json"),{signal:e.signal});return console.log(n),n}catch(n){"ERR_CANCELED"!==n.code&&console.log(n.message)}}}},11:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(43),a=n(768),o=n(613),c=n(475),r=n(579);const i=e=>{let{weatherList:t}=e;return(0,r.jsx)("ul",{children:t.map((e=>{const t=Math.round((e.days[0].tempmax-32)/1.8),n=Math.round((e.days[0].tempmin-32)/1.8);return(0,r.jsxs)("li",{children:[(0,r.jsx)("h3",{children:e.address}),(0,r.jsx)("img",{src:"https://raw.githubusercontent.com/visualcrossing/WeatherIcons/main/PNG/1st%20Set%20-%20Color/".concat(e.days[0].icon,".png"),alt:e.days[0].icon}),(0,r.jsx)("p",{children:e.days[0].conditions}),(0,r.jsxs)("p",{children:[n,"\xb0C - ",t,"\xb0C"]}),(0,r.jsx)(c.k2,{to:"/:".concat(e.address),children:"See detailed forecast"})]},e.address)}))})};var l=n(138);const d=e=>{let{onSubmit:t}=e;return(0,r.jsxs)("form",{onSubmit:e=>t(e),children:[(0,r.jsx)("input",{type:"text",name:"city",autoComplete:"off",autoFocus:!0,placeholder:"Write searching city..."}),(0,r.jsx)("button",{type:"submit",children:(0,r.jsx)(l.YQq,{})})]})},u=()=>{const[e,t]=(0,s.useState)([]),[n,c]=(0,s.useState)(!1),[l,u]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=new AbortController;return(async()=>{try{c(!0);const{locations:n}=await a.A.fetchWeatherForCities(e);t([...n])}catch(l){"ERR_CANCELED"!==l.code&&u(l.message),u(null)}finally{c(!1)}})(),()=>{e.abort()}}),[]);return(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{children:"Weather forecast in different cities"}),(0,r.jsx)(d,{onSubmit:e=>{e.preventDefault()}}),e&&(0,r.jsx)(i,{weatherList:e}),n&&(0,r.jsx)(o.A,{loading:n}),l&&(0,r.jsx)("p",{children:"Sorry, something went wrong. Please, try to update page."})]})}}}]);
//# sourceMappingURL=11.29f59437.chunk.js.map