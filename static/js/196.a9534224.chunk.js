"use strict";(self.webpackChunkweather_forecast=self.webpackChunkweather_forecast||[]).push([[196],{768:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(154);s.A.defaults.baseURL="https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services";const i="E4W5RGXKFH3UTAD62NKRRA3L3",a={fetchWeatherForCities:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"London%2CUK%7CParis%2CFrance%7CTokyo%2CJapan";try{const{data:n}=await s.A.get("/timelinemulti?key=".concat(i,"&locations=").concat(t),{signal:e.signal});return n}catch(n){"ERR_CANCELED"!==n.code&&console.log(n.message)}},fetchCityWeatherForDays:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Berlin";try{const{data:n}=await s.A.get("/timeline/".concat(t,"/next7days?unitGroup=metric&include=days&key=").concat(i,"&contentType=json"),{signal:e.signal});return n}catch(n){"ERR_CANCELED"!==n.code&&console.log(n.message)}},fetchCityWeatherForToday:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Berlin";try{const{data:n}=await s.A.get("/timeline/".concat(t,"/today?unitGroup=metric&include=days\n&key=").concat(i,"&contentType=json"),{signal:e.signal});return console.log(n),n}catch(n){"ERR_CANCELED"!==n.code&&console.log(n.message)}}}},196:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var s=n(43),i=n(216),a=n(768),c=n(613),r=n(579);const o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=e=>{let{forecast:t}=e;return(0,r.jsx)("ul",{children:t.map((e=>{console.log(e);const t=new Date(1e3*e.datetimeEpoch).getDay(),n=o[t];let s="";return s=e.uvindex<=2?"Low":e.uvindex>2&&e.uvindex<=5?"Medium":e.uvindex>5&&e.uvindex<=7?"High":e.uvindex>7&&e.uvindex<=10?"Very high":"Extremely high",(0,r.jsxs)("li",{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:n}),(0,r.jsx)("p",{children:e.datetime})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:e.conditions}),(0,r.jsx)("img",{src:"https://raw.githubusercontent.com/visualcrossing/WeatherIcons/main/PNG/1st%20Set%20-%20Color/".concat(e.icon,".png"),alt:e.icon})]}),(0,r.jsxs)("p",{children:[e.tempmax,"\xb0C / ",e.tempmin,"\xb0C"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:e.description}),(0,r.jsxs)("p",{children:["Feels like: ",e.feelslike,"\xb0C"]}),(0,r.jsxs)("p",{children:["UV Index: ",e.uvindex," ",s]}),(0,r.jsxs)("p",{children:["Windspeed: ",e.windspeed," km/h"]})]})]},e.datetime)}))})},l=()=>{const[e,t]=(0,s.useState)([]),[n,o]=(0,s.useState)(""),[l,h]=(0,s.useState)(!1),[u,y]=(0,s.useState)(null),{city:g}=(0,i.g)();return(0,s.useEffect)((()=>{if(!g)return;const e=new AbortController,n=g.slice(1);return async function(){try{h(!0);const s=await a.A.fetchCityWeatherForDays(e,n);if(!s)return;const{address:i,days:c}=s;o(i),t(c)}catch(u){"ERR_CANCELED"!==u.code&&y(u.message)}finally{h(!1)}}(),()=>{e.abort()}}),[g]),(0,r.jsxs)("section",{children:[(0,r.jsxs)("h2",{children:["Weather forecast in ",n]}),e&&(0,r.jsx)(d,{forecast:e}),l&&(0,r.jsx)(c.A,{loading:l}),u&&(0,r.jsx)("p",{children:"Sorry, something went wrong. Please, try to update page."})]})}}}]);
//# sourceMappingURL=196.a9534224.chunk.js.map